{
  "version": "1.0.0",
  "lastUpdated": "2025-10-22",
  "description": "MadLabs Lab Services Context Configuration - Tracks all modules, documentation, and cross-references",

  "services": {
    "madladslab": {
      "name": "MadLabs Lab Main Site",
      "path": "/srv/madladslab",
      "port": 3000,
      "domain": "madladslab.com",
      "tmuxSession": "madladslab_session",
      "description": "Main website and platform",
      "technology": ["Node.js", "Express", "MongoDB", "EJS", "Socket.IO"],
      "authentication": "Google OAuth, Facebook OAuth, Local Strategy (Passport.js)",
      "database": {
        "type": "MongoDB Atlas",
        "name": "madLadsLab",
        "collections": [
          "users",
          "sessions",
          "service_monitor_logs",
          "user_analytics",
          "notifications"
        ]
      },
      "features": [
        "User authentication and registration",
        "Service monitoring daemon",
        "Admin dashboard",
        "Email notifications (Zoho)",
        "Socket.IO real-time updates",
        "QR code generation",
        "ClaudeTalk voice interface",
        "User analytics tracking"
      ],
      "documentation": [
        "/srv/madladslab/SERVICE_MONITORING.md",
        "/srv/madladslab/QRS_DESIGN.md",
        "/srv/madladslab/CLAUDETALK_UPDATES.md",
        "/srv/madladslab/VM_CONTROL_GUIDE.md",
        "/srv/madladslab/MOBILE_FIXES.md"
      ],
      "keyFiles": {
        "server": "/srv/madladslab/bin/www",
        "routes": "/srv/madladslab/routes",
        "models": "/srv/madladslab/api/v1/models",
        "views": "/srv/madladslab/views",
        "plugins": "/srv/madladslab/plugins",
        "auth": "/srv/madladslab/plugins/passport/passport.js",
        "mongo": "/srv/madladslab/plugins/mongo/mongo.js"
      }
    },

    "servers": {
      "name": "Servers Dashboard",
      "path": "/srv/servers",
      "port": 3600,
      "domain": "servers.madladslab.com",
      "tmuxSession": "servers_session",
      "description": "Admin-only server monitoring and management dashboard",
      "technology": ["Node.js", "Express", "MongoDB", "Passport.js", "Google OAuth"],
      "authentication": "Google OAuth (shared with madladslab.com, admin-only)",
      "database": {
        "type": "MongoDB Atlas (shared with madladslab)",
        "name": "madLadsLab",
        "collections": ["users"]
      },
      "features": [
        "Real-time system metrics (CPU, Memory, Disk, Uptime)",
        "Service health monitoring (9 services)",
        "Start/Stop/Restart services via tmux",
        "Live log viewing",
        "Auto-refresh every 5 seconds",
        "Admin verification from madladslab database",
        "Google OAuth integration"
      ],
      "documentation": [
        "/srv/servers/README.md",
        "/srv/servers/DEPLOYMENT_SUMMARY.md"
      ],
      "keyFiles": {
        "server": "/srv/servers/server.js",
        "frontend": "/srv/servers/public/index.html",
        "app": "/srv/servers/public/app.js",
        "env": "/srv/servers/.env"
      },
      "integrations": {
        "madladslab": {
          "sharedAuth": true,
          "sharedDatabase": true,
          "footerLink": "/srv/madladslab/views/mainContent/footer.ejs (line 18)"
        }
      }
    },

    "ps": {
      "name": "Project Stringborne",
      "path": "/srv/ps",
      "port": 3399,
      "domain": "ps.madladslab.com",
      "tmuxSession": "ps_session",
      "description": "Stringborne Universe - sci-fi MMO with galactic map",
      "technology": ["Node.js", "Express", "MongoDB", "Three.js", "Socket.IO", "EJS"],
      "authentication": "Passport.js (shared with madladslab)",
      "features": [
        "Galactic map with Three.js",
        "Character creation and management",
        "Species forks (Silicates, Lanterns, Devan, Humans)",
        "Dynamic planetary zones",
        "Asset voting system",
        "Admin status bar (CPU, memory, service indicators)",
        "Debug mode toggle",
        "Talent trees",
        "Orbital systems",
        "Zone exploration"
      ],
      "documentation": [
        "/srv/ps/README.md",
        "/srv/ps/STATUS_BAR_README.md"
      ],
      "keyFiles": {
        "server": "/srv/ps/app.js",
        "routes": "/srv/ps/routes",
        "models": "/srv/ps/api/v1/models",
        "views": "/srv/ps/views",
        "statusBar": "/srv/ps/views/partials/status-bar.ejs",
        "debugMode": "/srv/ps/public/javascripts/debug-mode.js",
        "galacticMap": "/srv/ps/public/javascripts/galactic-map-optimized.js"
      },
      "newFeatures": {
        "statusBar": {
          "description": "Admin-only thin status bar at bottom",
          "features": [
            "CPU/Memory monitoring with color coding",
            "Service health indicators (green/red)",
            "Compact and expanded modes",
            "Service restart buttons",
            "Debug mode toggle"
          ],
          "files": [
            "/srv/ps/views/partials/status-bar.ejs",
            "/srv/ps/public/stylesheets/status-bar.css",
            "/srv/ps/public/javascripts/debug-mode.js",
            "/srv/ps/routes/admin/index.js (monitor endpoints)"
          ]
        }
      }
    },

    "game-state": {
      "name": "Game State Service",
      "path": "/srv/game-state-service",
      "port": 3500,
      "domain": "svc.madladslab.com",
      "tmuxSession": "game_state_session",
      "description": "Centralized game state management for Project Stringborne",
      "technology": ["Node.js", "Express"],
      "features": [
        "Spatial data management",
        "Asset positioning",
        "State synchronization",
        "API for galactic map data"
      ]
    },

    "acm": {
      "name": "ACM Creative Concepts",
      "path": "/srv/acm",
      "port": 3002,
      "domain": "acmcreativeconcepts.com",
      "tmuxSession": "acm_session",
      "description": "Creative agency website"
    },

    "sfg": {
      "name": "SFG",
      "path": "/srv/sfg",
      "port": 3003,
      "domain": "sfg.madladslab.com",
      "tmuxSession": "sfg_session",
      "description": "SFG project (status: degraded - returns 500 errors)"
    },

    "sna": {
      "name": "Some New Article",
      "path": "/srv/sna",
      "port": 3010,
      "domain": "somenewsarticle.com",
      "tmuxSession": "sna_session",
      "description": "Multi-source news aggregation platform with web scraping and comment system",
      "technology": ["Node.js", "Express", "MongoDB", "Cheerio", "Passport.js", "EJS", "Axios"],
      "authentication": "Passport.js (Google OAuth, Facebook OAuth, Local Strategy)",
      "database": {
        "type": "MongoDB Atlas (shared)",
        "name": "test",
        "collections": ["comments", "blogs", "brands"]
      },
      "features": [
        "Multi-source news scraping (CNN, Fox News, BBC, AP, Reuters)",
        "NewsAPI.org fallback for reliable headlines",
        "Image extraction from articles",
        "Comment system for authenticated users",
        "Admin panel for content management",
        "User authentication via Google/Facebook/Local",
        "Like system for comments",
        "Admin moderation capabilities"
      ],
      "documentation": [
        "/srv/sna/zMDREADME.md",
        "/srv/sna/NEWS_API_SETUP.md",
        "/srv/sna/COMMENT_SYSTEM_README.md",
        "/srv/sna/ADMIN_PANEL_README.md",
        "/srv/sna/MONGODB_COMMENTS_SETUP.md"
      ],
      "keyFiles": {
        "server": "/srv/sna/app.js",
        "routes": "/srv/sna/routes/index.js",
        "adminRoutes": "/srv/sna/routes/admin/index.js",
        "newsScrapers": "/srv/sna/services/newsScrapers.js",
        "models": "/srv/sna/api/v1/models",
        "newsAPI": "/srv/sna/api/v1/ep/news.js",
        "commentsAPI": "/srv/sna/api/v1/ep/comments.js"
      },
      "apiEndpoints": {
        "news": [
          "GET /api/v1/news - All sources",
          "GET /api/v1/news/cnn - CNN only",
          "GET /api/v1/news/fox - Fox News only",
          "GET /api/v1/news/bbc - BBC only",
          "GET /api/v1/news/ap - AP News only",
          "GET /api/v1/news/reuters - Reuters only"
        ],
        "comments": [
          "GET /api/v1/comments/:articleUrl - Get comments for article",
          "POST /api/v1/comments - Add comment (requires auth)",
          "DELETE /api/v1/comments/:commentId - Delete comment",
          "GET /api/v1/comments - Get all comments (admin only)"
        ]
      },
      "externalAPIs": {
        "newsAPI": "NewsAPI.org (fallback, 100 requests/day free tier)"
      }
    },

    "twww": {
      "name": "The World Wide Wallet",
      "path": "/srv/twww",
      "port": 3008,
      "domain": "theworldwidewallet.com",
      "tmuxSession": "twww_session",
      "description": "Directory and gateway to all major payment services (fiat & crypto)",
      "technology": ["Node.js", "Express 4.21", "EJS", "HTTP"],
      "authentication": "None (public directory)",
      "database": {
        "type": "None",
        "note": "Static data hardcoded in routes"
      },
      "features": [
        "Directory of 50 fiat payment services",
        "Directory of 15 cryptocurrency exchanges",
        "Categorized by service type",
        "Direct links to official websites",
        "Modern responsive UI with gradient design",
        "Statistics dashboard",
        "No database or authentication required"
      ],
      "documentation": [
        "/srv/twww/zMDREADME.md"
      ],
      "keyFiles": {
        "server": "/srv/twww/bin/www",
        "app": "/srv/twww/app.js",
        "routes": "/srv/twww/routes/index.js",
        "views": "/srv/twww/views/index.ejs"
      },
      "serviceCategories": {
        "fiat": [
          "Digital Wallet (11)",
          "Traditional Bank (8)",
          "Payment Gateway (6)",
          "Digital Banking (7)",
          "International Transfer (4)",
          "Credit Card (4)",
          "Buy Now Pay Later (4)",
          "Money Transfer (2)",
          "P2P Payment (2)",
          "Bank Transfer (1)",
          "ACH Payment (1)",
          "Banking API (1)"
        ],
        "crypto": [
          "Centralized Exchanges (11)",
          "Decentralized Exchanges (4)"
        ]
      },
      "dataLocation": "/srv/twww/routes/index.js (lines 5-75)"
    },

    "madThree": {
      "name": "MadThree",
      "path": "/srv/madThree",
      "port": 3001,
      "domain": "three.madladslab.com",
      "tmuxSession": "madThree_session",
      "description": "Three.js experimentation and demos"
    },

    "w2MongoClient": {
      "name": "W2 Mongo Client",
      "path": "/srv/w2MongoClient",
      "port": 3006,
      "tmuxSession": "w2MongoClient_session",
      "description": "MongoDB client interface"
    }
  },

  "infrastructure": {
    "server": {
      "provider": "Linode",
      "os": "Linux 6.14.3-x86_64-linode168",
      "hostname": "localhost"
    },
    "webServer": {
      "type": "Apache 2.4.58",
      "ssl": "Let's Encrypt (auto-renewing)",
      "proxyConfig": "/etc/apache2/sites-available/",
      "modules": ["proxy", "proxy_http", "proxy_wstunnel", "rewrite", "headers", "ssl"]
    },
    "processManager": "tmux",
    "monitoring": {
      "serviceDaemon": "/srv/madladslab/lib/serviceMonitorDaemon.js",
      "dashboard": "https://servers.madladslab.com",
      "statusBar": "Embedded in ps.madladslab.com"
    }
  },

  "sharedResources": {
    "database": {
      "url": "mongodb+srv://snoryder8019:51DUBsqu%40red51@cluster0.tpmae.mongodb.net",
      "name": "madLadsLab",
      "sharedBy": ["madladslab", "servers", "ps"]
    },
    "authentication": {
      "googleOAuth": {
        "clientId": "988890556673-7td5o8i33o1f0m9kogvia5s9l09dovso.apps.googleusercontent.com",
        "usedBy": ["madladslab", "servers", "ps"]
      },
      "passport": {
        "configFile": "/srv/madladslab/plugins/passport/passport.js",
        "strategies": ["Google", "Facebook", "Local"]
      }
    },
    "email": {
      "provider": "Zoho",
      "usedFor": ["Service monitoring alerts", "User notifications"]
    }
  },

  "crossModuleFeatures": {
    "adminLinks": {
      "description": "Admin users see links to other admin panels",
      "implementation": {
        "madladslab": {
          "footer": "/srv/madladslab/views/mainContent/footer.ejs",
          "links": ["admin", "servers dashboard (line 18)"]
        }
      }
    },
    "serviceMonitoring": {
      "description": "Multiple monitoring systems tracking service health",
      "implementations": [
        {
          "name": "Service Monitor Daemon",
          "location": "/srv/madladslab/lib/serviceMonitorDaemon.js",
          "features": ["Email alerts", "Database logging", "60s intervals"]
        },
        {
          "name": "Servers Dashboard",
          "location": "https://servers.madladslab.com",
          "features": ["Real-time metrics", "Service control", "Live logs"]
        },
        {
          "name": "PS Status Bar",
          "location": "/srv/ps/views/partials/status-bar.ejs",
          "features": ["Compact monitoring", "Debug mode", "CPU/Memory"]
        }
      ]
    }
  },

  "developmentNotes": {
    "conventions": {
      "ports": "Each service uses dedicated port (3000-3006, 3399, 3500, 3600)",
      "tmux": "Each service runs in named tmux session (e.g., madladslab_session)",
      "documentation": "Service-specific docs in /srv/<service>/ directory",
      "adminAccess": "Verified via user.isAdmin in MongoDB users collection"
    },
    "recentChanges": [
      {
        "date": "2025-10-22",
        "module": "servers",
        "description": "Created servers.madladslab.com with Google OAuth, admin-only dashboard for monitoring and managing all 9 services"
      },
      {
        "date": "2025-10-22",
        "module": "ps",
        "description": "Added admin status bar at bottom with CPU/memory/service monitoring and debug mode toggle"
      },
      {
        "date": "2025-10-22",
        "module": "madladslab",
        "description": "Added footer link to servers dashboard for admin users"
      },
      {
        "date": "2025-10-22",
        "module": "sna",
        "description": "Documented comprehensive news aggregation platform with multi-source scraping (CNN, Fox, BBC, AP, Reuters), NewsAPI fallback, comment system, and admin panel. Created zMDREADME.md with full architecture, API endpoints, and integration details. Corrected port from 3004 to 3010 in context."
      },
      {
        "date": "2025-10-22",
        "module": "twww",
        "description": "Documented payment services directory featuring 50 fiat payment services and 15 crypto exchanges. Created zMDREADME.md with complete service catalog breakdown, UI design details, and maintenance guide. Corrected port from 3005 to 3008 in context."
      }
    ]
  },

  "usageInstructions": {
    "purpose": "This file provides context about all MadLabs Lab services for AI assistants and developers",
    "updating": "Update this file when adding new services, features, or documentation",
    "referencing": "Reference this file when working across multiple modules to understand dependencies and integrations"
  }
}
