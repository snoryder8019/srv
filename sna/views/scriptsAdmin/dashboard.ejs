<script>
  document.addEventListener('DOMContentLoaded', async () => {
    console.log('Admin Dashboard Loaded');

    // Add smooth animations
    const cards = document.querySelectorAll('.stat-card, .model-card, .source-badge');
    cards.forEach((card, index) => {
      setTimeout(() => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'all 0.5s ease';

        setTimeout(() => {
          card.style.opacity = '1';
          card.style.transform = 'translateY(0)';
        }, 50);
      }, index * 50);
    });
  });

  // Model Management Functions
  function addModel(modelName) {
    console.log('Add model:', modelName);

    const confirmAdd = confirm(`Add a new ${modelName} entry?`);
    if (confirmAdd) {
      // Navigate to API endpoint or show modal
      window.location.href = `/api/v1/${modelName.toLowerCase()}s`;
    }
  }

  function editModel(modelName) {
    console.log('Edit model:', modelName);

    const confirmEdit = confirm(`Edit ${modelName} entries?`);
    if (confirmEdit) {
      // Navigate to API endpoint or show modal
      window.location.href = `/api/v1/${modelName.toLowerCase()}s`;
    }
  }

  function deleteModel(modelName) {
    console.log('Delete model:', modelName);

    const confirmDelete = confirm(`Are you sure you want to delete ${modelName} entries? This action cannot be undone.`);
    if (confirmDelete) {
      alert('Delete functionality would be implemented here with proper API calls.');
    }
  }

  // News refresh function
  async function refreshNews() {
    try {
      const response = await fetch('/api/v1/news');
      const data = await response.json();
      console.log('News refreshed:', data);
      alert('News data refreshed successfully!');
    } catch (error) {
      console.error('Error refreshing news:', error);
      alert('Failed to refresh news data.');
    }
  }

  // Auto-refresh stats every 30 seconds
  setInterval(async () => {
    try {
      // You can add API calls here to update stats in real-time
      console.log('Auto-refreshing stats...');
    } catch (error) {
      console.error('Error auto-refreshing:', error);
    }
  }, 30000);
</script>
