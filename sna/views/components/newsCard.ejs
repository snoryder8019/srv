<!-- News Card Component -->
<div class="news-card" data-source="<%= source %>" data-article-url="<%= url %>">
  <% if (typeof image !== 'undefined' && image) { %>
    <img src="<%= image %>" alt="<%= title %>" class="news-card-image" onerror="this.style.display='none'">
  <% } %>
  <div class="news-card-content">
    <div class="news-source-badge <%= source.toLowerCase().replace(/\s/g, '-') %>">
      <%= source %>
    </div>
    <h3 class="news-title">
      <a href="<%= url %>" target="_blank" rel="noopener noreferrer">
        <%= title %>
      </a>
    </h3>

    <!-- Comment Bubble -->
    <div class="comment-bubble-container">
      <button class="comment-bubble"
              onclick="openCommentModal('<%= url %>', '<%= title.replace(/'/g, "\\'") %>', '<%= source %>')"
              data-article-url="<%= url %>">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
        </svg>
        <span class="comment-count" data-url="<%= url %>">0</span>
      </button>
    </div>
  </div>
</div>
