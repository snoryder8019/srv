<% if (user && user.isAdmin) { %>
<aside class="admin-sidebar">
    <nav class="sidebar-nav">
        <a href="/admin" class="nav-item <%= currentPage === 'dashboard' ? 'active' : '' %>">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <rect x="3" y="3" width="7" height="7"></rect>
                <rect x="14" y="3" width="7" height="7"></rect>
                <rect x="14" y="14" width="7" height="7"></rect>
                <rect x="3" y="14" width="7" height="7"></rect>
            </svg>
            <span>Dashboard</span>
        </a>

        <a href="/admin/sites" class="nav-item <%= currentPage === 'sites' ? 'active' : '' %>">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                <line x1="8" y1="21" x2="16" y2="21"></line>
                <line x1="12" y1="17" x2="12" y2="21"></line>
            </svg>
            <span>Sites</span>
        </a>

        <a href="/admin/analytics" class="nav-item <%= currentPage === 'analytics' ? 'active' : '' %>">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <line x1="12" y1="20" x2="12" y2="10"></line>
                <line x1="18" y1="20" x2="18" y2="4"></line>
                <line x1="6" y1="20" x2="6" y2="16"></line>
            </svg>
            <span>Analytics</span>
        </a>

        <a href="/admin/settings" class="nav-item <%= currentPage === 'settings' ? 'active' : '' %>">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <circle cx="12" cy="12" r="3"></circle>
                <path d="M12 1v6m0 6v6m5.196-15.196l-4.242 4.242m-2.688 2.688l-4.242 4.242M23 12h-6m-6 0H1m15.196 5.196l-4.242-4.242m-2.688-2.688l-4.242-4.242"></path>
            </svg>
            <span>Settings</span>
        </a>

        <div class="nav-divider"></div>

        <div class="nav-section-title">Applications</div>

        <a href="/bikelite" class="nav-item nav-item-app">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
            <span>Bikelite</span>
        </a>

        <a href="/claudeTalk" class="nav-item nav-item-app">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            <span>ClaudeTalk</span>
        </a>

        <a href="/contest" class="nav-item nav-item-app">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path>
                <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path>
                <path d="M4 22h16"></path>
                <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path>
                <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path>
                <path d="M18 2H6v7a6 6 0 0 0 12 0V2z"></path>
            </svg>
            <span>Contest</span>
        </a>

        <a href="/euker" class="nav-item nav-item-app">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <rect x="2" y="5" width="20" height="14" rx="2"></rect>
                <line x1="2" y1="10" x2="22" y2="10"></line>
            </svg>
            <span>Euker</span>
        </a>

        <a href="/grafitti" class="nav-item nav-item-app">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M12 19l7-7 3 3-7 7-3-3z"></path>
                <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
                <path d="M2 2l7.586 7.586"></path>
                <circle cx="11" cy="11" r="2"></circle>
            </svg>
            <span>Grafitti</span>
        </a>

        <a href="/lbb" class="nav-item nav-item-app">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
            </svg>
            <span>LBB</span>
        </a>

        <a href="/qrs" class="nav-item nav-item-app">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <rect x="3" y="3" width="7" height="7"></rect>
                <rect x="14" y="3" width="7" height="7"></rect>
                <rect x="14" y="14" width="7" height="7"></rect>
                <rect x="3" y="14" width="7" height="7"></rect>
            </svg>
            <span>QRS</span>
        </a>

        <a href="/recipes" class="nav-item nav-item-app">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"></path>
                <path d="M7 2v20"></path>
                <path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3zm0 0v7"></path>
            </svg>
            <span>Recipes</span>
        </a>

        <a href="/trader" class="nav-item nav-item-app">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                <polyline points="17 6 23 6 23 12"></polyline>
            </svg>
            <span>Trader</span>
        </a>

        <div class="nav-divider"></div>

        <a href="/payments" class="nav-item">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                <line x1="1" y1="10" x2="23" y2="10"></line>
            </svg>
            <span>Payments</span>
        </a>

        <a href="/" class="nav-item">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
            <span>Back to Site</span>
        </a>
    </nav>
</aside>

<style>
    .admin-sidebar {
        position: fixed;
        left: 0;
        top: 60px;
        bottom: 0;
        width: 250px;
        background: #0a0a0a;
        border-right: 1px solid #2a2a2a;
        overflow-y: auto;
        z-index: 900;
    }

    .sidebar-nav {
        padding: 1rem 0;
    }

    .nav-item {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.75rem 1.5rem;
        color: #888;
        text-decoration: none;
        transition: all 0.2s;
        font-size: 0.95rem;
    }

    .nav-item svg {
        stroke-width: 2;
        flex-shrink: 0;
    }

    .nav-item:hover {
        color: #e0e0e0;
        background: rgba(0, 255, 0, 0.05);
    }

    .nav-item.active {
        color: #00ff00;
        background: rgba(0, 255, 0, 0.1);
        border-left: 3px solid #00ff00;
        padding-left: calc(1.5rem - 3px);
    }

    .nav-item-app {
        font-size: 0.9rem;
        padding: 0.6rem 1.5rem;
    }

    .nav-divider {
        height: 1px;
        background: #2a2a2a;
        margin: 0.75rem 1.5rem;
    }

    .nav-section-title {
        padding: 0.75rem 1.5rem;
        color: #555;
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        font-weight: 600;
    }

    .admin-sidebar::-webkit-scrollbar {
        width: 6px;
    }

    .admin-sidebar::-webkit-scrollbar-track {
        background: #0a0a0a;
    }

    .admin-sidebar::-webkit-scrollbar-thumb {
        background: #2a2a2a;
        border-radius: 3px;
    }

    .admin-sidebar::-webkit-scrollbar-thumb:hover {
        background: #3a3a3a;
    }

    @media (max-width: 768px) {
        .admin-sidebar {
            transform: translateX(-100%);
            transition: transform 0.3s;
        }

        .admin-sidebar.mobile-open {
            transform: translateX(0);
        }
    }
</style>
<% } %>
