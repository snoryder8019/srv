<!DOCTYPE html>
<html>
<head>
  <title>GRAFFITI TV - PASTA & STREET ART</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Impact&family=Comic+Sans+MS&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Impact, 'Arial Black', sans-serif;
      background: #000;
      color: #fff;
      overflow: hidden;
      position: relative;
      height: 100vh;
    }

    /* Main content grid */
    .tv-grid {
      display: grid;
      grid-template-columns: 1fr 300px;
      grid-template-rows: 80px 1fr 100px 60px;
      height: 100vh;
      gap: 5px;
      padding: 5px;
      background: linear-gradient(45deg, #ff00ff, #00ffff, #ffff00, #ff0000);
      background-size: 400% 400%;
      animation: psychedelicBG 8s ease infinite;
    }

    @keyframes psychedelicBG {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    /* TOP TICKER */
    .top-ticker {
      grid-column: 1 / -1;
      background: linear-gradient(90deg, #ff0000, #ff6600, #ffff00, #00ff00, #0000ff, #ff00ff);
      background-size: 200% 100%;
      animation: rainbowSlide 3s linear infinite;
      overflow: hidden;
      position: relative;
      border: 5px solid #fff;
      box-shadow: 0 0 30px rgba(255,255,255,0.8);
    }

    .ticker-content {
      display: flex;
      animation: scroll-left 25s linear infinite;
      white-space: nowrap;
      font-size: 32px;
      font-weight: 900;
      text-transform: uppercase;
      padding: 20px 0;
    }

    .ticker-item {
      padding: 0 40px;
      color: #000;
      text-shadow:
        2px 2px 0 #fff,
        -2px -2px 0 #fff,
        2px -2px 0 #fff,
        -2px 2px 0 #fff;
      animation: textWiggle 0.5s ease-in-out infinite;
    }

    @keyframes scroll-left {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    @keyframes rainbowSlide {
      0% { background-position: 0% 50%; }
      100% { background-position: 200% 50%; }
    }

    @keyframes textWiggle {
      0%, 100% { transform: rotate(-0.5deg) scale(1); }
      50% { transform: rotate(0.5deg) scale(1.02); }
    }

    /* MAIN CONTENT AREA */
    .main-content {
      background: rgba(0,0,0,0.85);
      border: 8px solid #ff00ff;
      box-shadow: 0 0 40px #ff00ff, inset 0 0 40px rgba(255,0,255,0.3);
      position: relative;
      overflow: hidden;
      padding: 0;
      animation: borderPulse 2s ease-in-out infinite;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    @keyframes borderPulse {
      0%, 100% { border-color: #ff00ff; }
      50% { border-color: #00ffff; }
    }

    .graffiti-title {
      font-size: clamp(2rem, 5vw, 72px);
      text-align: center;
      background: linear-gradient(45deg, #ff00ff, #00ffff, #ffff00, #ff0000);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: titleGlow 2s ease-in-out infinite, titleShake 0.3s ease-in-out infinite;
      text-shadow: 0 0 30px rgba(255,255,255,0.8);
      margin-bottom: clamp(10px, 2vh, 20px);
    }

    @keyframes titleGlow {
      0%, 100% { filter: brightness(1) drop-shadow(0 0 10px #ff00ff); }
      50% { filter: brightness(1.5) drop-shadow(0 0 30px #00ffff); }
    }

    @keyframes titleShake {
      0%, 100% { transform: translateX(0) rotate(0deg); }
      25% { transform: translateX(-2px) rotate(-0.5deg); }
      75% { transform: translateX(2px) rotate(0.5deg); }
    }

    .popfunk-message {
      font-size: clamp(1rem, 2vw, 28px);
      text-align: center;
      color: #ffff00;
      text-shadow: 3px 3px 0 #ff00ff, -3px -3px 0 #00ffff;
      animation: messageFloat 3s ease-in-out infinite;
      margin: clamp(10px, 2vh, 20px) 0;
    }

    @keyframes messageFloat {
      0%, 100% { transform: translateY(0) scale(1); }
      50% { transform: translateY(-10px) scale(1.05); }
    }

    /* VIDEO CONTAINER */
    .video-section {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 10px;
    }

    .video-container {
      position: relative;
      width: 100%;
      height: 100%;
      max-width: 100%;
      max-height: 100%;
      overflow: hidden;
      border: 6px solid #00ff00;
      box-shadow: 0 0 30px #00ff00;
      animation: videoPulse 3s ease-in-out infinite;
    }

    @keyframes videoPulse {
      0%, 100% {
        border-color: #00ff00;
        box-shadow: 0 0 30px #00ff00;
      }
      50% {
        border-color: #ffff00;
        box-shadow: 0 0 50px #ffff00;
      }
    }

    .video-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    /* SIDEBAR ADS */
    .sidebar-ads {
      background: #000;
      border: 6px solid #ff0000;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      padding: 10px;
      animation: sidebarFlash 4s ease-in-out infinite;
      position: relative;
      max-height: 100%;
      height: 100%;
    }

    .sidebar-content {
      display: flex;
      flex-direction: column;
      gap: 10px;
      animation: scrollUpDown 20s ease-in-out infinite;
      min-height: 100%;
    }

    @keyframes scrollUpDown {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-30%); }
    }

    @keyframes sidebarFlash {
      0%, 100% { border-color: #ff0000; }
      25% { border-color: #00ff00; }
      50% { border-color: #0000ff; }
      75% { border-color: #ffff00; }
    }

    .fake-ad {
      background: linear-gradient(135deg, #ff00ff, #00ffff);
      border: 4px solid #ffff00;
      padding: 15px;
      text-align: center;
      font-size: 18px;
      font-weight: 900;
      color: #000;
      text-shadow: 1px 1px 0 #fff;
      cursor: pointer;
      transition: transform 0.2s;
      animation: adBounce 1s ease-in-out infinite;
    }

    .fake-ad:hover {
      transform: scale(1.1) rotate(3deg);
    }

    @keyframes adBounce {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .ad-title {
      font-size: 24px;
      margin-bottom: 10px;
      color: #ff0000;
      text-shadow: 2px 2px 0 #ffff00;
    }

    .ad-price {
      font-size: 32px;
      color: #00ff00;
      text-shadow: 2px 2px 0 #000;
    }

    /* STOCK TICKER */
    .stock-ticker {
      grid-column: 1 / -1;
      background: #000;
      border: 5px solid #00ff00;
      overflow: hidden;
      position: relative;
    }

    .stock-content {
      display: flex;
      animation: scroll-right 30s linear infinite;
      white-space: nowrap;
      font-size: 24px;
      font-weight: 700;
      padding: 15px 0;
    }

    @keyframes scroll-right {
      0% { transform: translateX(-50%); }
      100% { transform: translateX(0); }
    }

    .stock-item {
      padding: 0 30px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .stock-name {
      color: #ffff00;
      text-shadow: 2px 2px 0 #000;
    }

    .stock-price {
      color: #00ff00;
      font-size: 28px;
    }

    .stock-up {
      color: #00ff00;
    }

    .stock-down {
      color: #ff0000;
    }

    /* BOTTOM SCROLLER */
    .bottom-scroller {
      grid-column: 1 / -1;
      background: linear-gradient(90deg, #0000ff, #ff00ff, #ff0000);
      background-size: 200% 100%;
      animation: rainbowSlide 4s linear infinite;
      overflow: hidden;
      border: 4px solid #fff;
    }

    .bottom-content {
      display: flex;
      animation: scroll-left 20s linear infinite;
      white-space: nowrap;
      font-size: 28px;
      font-weight: 900;
      padding: 12px 0;
    }

    .bottom-item {
      padding: 0 50px;
      color: #ffff00;
      text-shadow:
        3px 3px 0 #000,
        -1px -1px 0 #000,
        1px -1px 0 #000,
        -1px 1px 0 #000;
    }

    /* GLITCH EFFECTS */
    .glitch {
      animation: glitchAnim 5s infinite;
    }

    @keyframes glitchAnim {
      0%, 98% { clip-path: none; transform: translate(0); }
      99% {
        clip-path: inset(10% 0 85% 0);
        transform: translate(-5px, 5px);
      }
      100% {
        clip-path: inset(80% 0 5% 0);
        transform: translate(5px, -5px);
      }
    }

    /* Scrollbar styling - THIN for fullscreen desktops */
    .sidebar-ads::-webkit-scrollbar {
      width: 4px;
    }

    .sidebar-ads::-webkit-scrollbar-track {
      background: #000;
    }

    .sidebar-ads::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #ff00ff, #00ffff);
      border-radius: 2px;
    }

    /* Also thin down body scrollbar if present */
    body::-webkit-scrollbar {
      width: 4px;
      height: 4px;
    }

    body::-webkit-scrollbar-track {
      background: #000;
    }

    body::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #ff00ff, #00ffff);
      border-radius: 2px;
    }

    /* Generic scrollbar styling for any element */
    *::-webkit-scrollbar {
      width: 4px;
      height: 4px;
    }

    *::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.3);
    }

    *::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #ff00ff, #00ffff);
      border-radius: 2px;
    }

    /* MOBILE RESPONSIVE DESIGN */
    @media (max-width: 768px) {
      .tv-grid {
        grid-template-columns: 1fr;
        grid-template-rows: 60px auto 80px 100px 50px;
        gap: 3px;
        padding: 3px;
      }

      .top-ticker {
        grid-column: 1;
        border: 3px solid #fff;
      }

      .ticker-content {
        font-size: 18px;
        padding: 15px 0;
        animation: scroll-left 20s linear infinite;
      }

      .ticker-item {
        padding: 0 20px;
      }

      .main-content {
        grid-column: 1;
        grid-row: 2;
        padding: 10px;
        border: 4px solid #ff00ff;
      }

      .graffiti-title {
        font-size: clamp(1.5rem, 4vw, 36px);
        margin-bottom: clamp(5px, 1vh, 10px);
      }

      .popfunk-message {
        font-size: clamp(0.875rem, 1.5vw, 16px);
        margin: clamp(5px, 1vh, 10px) 0;
      }

      .video-section {
        max-width: 100%;
        width: 100%;
        margin: clamp(5px, 1vh, 10px) auto;
      }

      .video-container {
        padding-bottom: 56.25%; /* 16:9 aspect ratio */
        border: 3px solid #00ff00;
      }

      .sidebar-ads {
        grid-column: 1;
        grid-row: 3;
        max-height: none;
        border: 3px solid #ff0000;
        padding: 5px;
        overflow-x: auto;
        overflow-y: hidden;
        flex-direction: row;
      }

      /* Disable vertical scrolling animation on mobile, enable horizontal scroll */
      .sidebar-content {
        animation: none;
        flex-direction: row;
        width: max-content;
      }

      .fake-ad {
        min-width: 150px;
        padding: 10px;
        font-size: 14px;
        border: 3px solid #ffff00;
        flex-shrink: 0;
      }

      .ad-title {
        font-size: 16px;
        margin-bottom: 5px;
      }

      .ad-price {
        font-size: 20px;
      }

      .stock-ticker {
        grid-column: 1;
        grid-row: 4;
        border: 3px solid #00ff00;
      }

      .stock-content {
        font-size: 16px;
        padding: 10px 0;
        animation: scroll-right 25s linear infinite;
      }

      .stock-item {
        padding: 0 15px;
        gap: 5px;
      }

      .stock-name {
        font-size: 14px;
      }

      .stock-price {
        font-size: 18px;
      }

      .bottom-scroller {
        grid-column: 1;
        grid-row: 5;
        border: 3px solid #fff;
      }

      .bottom-content {
        font-size: 16px;
        padding: 8px 0;
        animation: scroll-left 15s linear infinite;
      }

      .bottom-item {
        padding: 0 25px;
      }

      /* Adjust animations for mobile */
      @keyframes titleShake {
        0%, 100% { transform: translateX(0) rotate(0deg); }
        25% { transform: translateX(-1px) rotate(-0.3deg); }
        75% { transform: translateX(1px) rotate(0.3deg); }
      }

      @keyframes messageFloat {
        0%, 100% { transform: translateY(0) scale(1); }
        50% { transform: translateY(-5px) scale(1.03); }
      }
    }

    /* EXTRA SMALL MOBILE */
    @media (max-width: 480px) {
      .graffiti-title {
        font-size: clamp(1.25rem, 3.5vw, 28px);
      }

      .popfunk-message {
        font-size: clamp(0.75rem, 1.25vw, 14px);
      }

      .ticker-content {
        font-size: 14px;
        padding: 12px 0;
      }

      .stock-content {
        font-size: 14px;
      }

      .bottom-content {
        font-size: 14px;
      }

      .fake-ad {
        min-width: 120px;
        font-size: 12px;
      }

      .ad-title {
        font-size: 14px;
      }

      .ad-price {
        font-size: 18px;
      }
    }
  </style>
</head>
<body>
  <div class="tv-grid">

    <!-- TOP NEWS TICKER -->
    <div class="top-ticker">
      <div class="ticker-content">
        <span class="ticker-item">üçù GRAFFITI PASTA - DENTON, TEXAS üçù</span>
        <span class="ticker-item">üçù FRESH PASTA DAILY - HANDMADE WITH LOVE üçù</span>
        <span class="ticker-item">üé® STREET ART MEETS ITALIAN CUISINE üé®</span>
        <span class="ticker-item">üìç LOCATED IN DENTON, TEXAS üìç</span>
        <span class="ticker-item">üç∑ WINE PAIRING SPECIALS ALL WEEK üç∑</span>
        <span class="ticker-item">üî• TODAY'S SPECIAL: GRAFFITI CARBONARA üî•</span>
        <span class="ticker-item">‚ö° LIVE MUSIC EVERY FRIDAY NIGHT ‚ö°</span>
        <span class="ticker-item">üçï WOOD-FIRED PIZZA & FRESH PASTA üçï</span>
        <!-- Duplicate for seamless loop -->
        <span class="ticker-item">üçù GRAFFITI PASTA - DENTON, TEXAS üçù</span>
        <span class="ticker-item">üçù FRESH PASTA DAILY - HANDMADE WITH LOVE üçù</span>
        <span class="ticker-item">üé® STREET ART MEETS ITALIAN CUISINE üé®</span>
        <span class="ticker-item">üìç LOCATED IN DENTON, TEXAS üìç</span>
        <span class="ticker-item">üç∑ WINE PAIRING SPECIALS ALL WEEK üç∑</span>
        <span class="ticker-item">üî• TODAY'S SPECIAL: GRAFFITI CARBONARA üî•</span>
        <span class="ticker-item">‚ö° LIVE MUSIC EVERY FRIDAY NIGHT ‚ö°</span>
        <span class="ticker-item">üçï WOOD-FIRED PIZZA & FRESH PASTA üçï</span>
      </div>
    </div>

    <!-- MAIN CONTENT -->
    <div class="main-content glitch">
      <!-- EMBEDDED VIDEO/IMAGE CAROUSEL - FULL SIZE -->
      <div class="video-section">
        <div class="video-container" id="mediaContainer">
          <!-- Dynamic content will be loaded here -->
          <div id="loadingMessage" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: #00ff00; font-size: clamp(1rem, 3vw, 24px); text-align: center; padding: 20px; background: rgba(0,0,0,0.7);">
            LOADING GRAFFITI CONTENT...
          </div>
        </div>
      </div>
    </div>

    <!-- SIDEBAR SPECIALS -->
    <div class="sidebar-ads">
      <div class="sidebar-content">
        <div class="fake-ad" style="background: linear-gradient(135deg, #ff1493, #ffd700);">
          <div class="ad-title">DAILY SPECIAL!</div>
          <div>TRUFFLE PASTA</div>
          <div class="ad-price">$24.99</div>
          <div>LIMITED TIME!</div>
        </div>

        <div class="fake-ad" style="background: linear-gradient(135deg, #00ff00, #ff00ff);">
          <div class="ad-title">WINE PAIRING</div>
          <div>HALF OFF BOTTLES!</div>
          <div class="ad-price">$18</div>
          <div>MONDAY-THURSDAY</div>
        </div>

        <div class="fake-ad" style="background: linear-gradient(135deg, #ff4500, #ffa500);">
          <div class="ad-title">FRESH PASTA</div>
          <div>MADE IN HOUSE!</div>
          <div class="ad-price">$16.99</div>
          <div>TRY IT TODAY!</div>
        </div>

        <div class="fake-ad" style="background: linear-gradient(135deg, #00ffff, #0000ff);">
          <div class="ad-title">GRAFFITI NIGHT</div>
          <div>LIVE ART + FOOD!</div>
          <div class="ad-price">FREE</div>
          <div>EVERY SATURDAY!</div>
        </div>

        <div class="fake-ad" style="background: linear-gradient(135deg, #ff0000, #ffff00);">
          <div class="ad-title">NEGRONI SPECIAL</div>
          <div>$5 HAPPY HOUR!</div>
          <div class="ad-price">$5.00</div>
          <div>4-7PM DAILY</div>
        </div>

        <div class="fake-ad" style="background: linear-gradient(135deg, #ff69b4, #ff1493);">
          <div class="ad-title">APEROL SPRITZ</div>
          <div>SUMMER FAVORITE!</div>
          <div class="ad-price">$8.99</div>
          <div>REFRESHING!</div>
        </div>

        <div class="fake-ad" style="background: linear-gradient(135deg, #32cd32, #228b22);">
          <div class="ad-title">CARBONARA</div>
          <div>TRADITIONAL RECIPE!</div>
          <div class="ad-price">$19.99</div>
          <div>CHEF'S FAVORITE!</div>
        </div>

        <div class="fake-ad" style="background: linear-gradient(135deg, #ff00ff, #ff8c00);">
          <div class="ad-title">PIZZA NIGHT</div>
          <div>WOOD-FIRED!</div>
          <div class="ad-price">$14.99</div>
          <div>FRIDAYS ONLY!</div>
        </div>
      </div>
    </div>

    <!-- MENU TICKER -->
    <div class="stock-ticker">
      <div class="stock-content">
        <div class="stock-item">
          <span class="stock-name">CARBONARA</span>
          <span class="stock-price stock-up">$19.99 ‚òÖ</span>
          <span class="stock-up">CLASSIC</span>
        </div>
        <div class="stock-item">
          <span class="stock-name">AMATRICIANA</span>
          <span class="stock-price stock-up">$18.99 ‚òÖ</span>
          <span class="stock-up">SPICY</span>
        </div>
        <div class="stock-item">
          <span class="stock-name">CACIO E PEPE</span>
          <span class="stock-price stock-up">$17.99 ‚òÖ</span>
          <span class="stock-up">SIMPLE</span>
        </div>
        <div class="stock-item">
          <span class="stock-name">GRAFFITI SPECIAL</span>
          <span class="stock-price stock-up">$24.99 ‚òÖ</span>
          <span class="stock-up">NEW!</span>
        </div>
        <div class="stock-item">
          <span class="stock-name">TRUFFLE PASTA</span>
          <span class="stock-price stock-up">$26.99 ‚òÖ</span>
          <span class="stock-up">PREMIUM</span>
        </div>
        <div class="stock-item">
          <span class="stock-name">BOLOGNESE</span>
          <span class="stock-price stock-up">$21.99 ‚òÖ</span>
          <span class="stock-up">HEARTY</span>
        </div>
        <div class="stock-item">
          <span class="stock-name">ARRABBIATA</span>
          <span class="stock-price stock-up">$16.99 ‚òÖ</span>
          <span class="stock-up">HOT!</span>
        </div>
        <!-- Duplicate for seamless loop -->
        <div class="stock-item">
          <span class="stock-name">CARBONARA</span>
          <span class="stock-price stock-up">$19.99 ‚òÖ</span>
          <span class="stock-up">CLASSIC</span>
        </div>
        <div class="stock-item">
          <span class="stock-name">AMATRICIANA</span>
          <span class="stock-price stock-up">$18.99 ‚òÖ</span>
          <span class="stock-up">SPICY</span>
        </div>
        <div class="stock-item">
          <span class="stock-name">CACIO E PEPE</span>
          <span class="stock-price stock-up">$17.99 ‚òÖ</span>
          <span class="stock-up">SIMPLE</span>
        </div>
        <div class="stock-item">
          <span class="stock-name">GRAFFITI SPECIAL</span>
          <span class="stock-price stock-up">$24.99 ‚òÖ</span>
          <span class="stock-up">NEW!</span>
        </div>
        <div class="stock-item">
          <span class="stock-name">TRUFFLE PASTA</span>
          <span class="stock-price stock-up">$26.99 ‚òÖ</span>
          <span class="stock-up">PREMIUM</span>
        </div>
        <div class="stock-item">
          <span class="stock-name">BOLOGNESE</span>
          <span class="stock-price stock-up">$21.99 ‚òÖ</span>
          <span class="stock-up">HEARTY</span>
        </div>
        <div class="stock-item">
          <span class="stock-name">ARRABBIATA</span>
          <span class="stock-price stock-up">$16.99 ‚òÖ</span>
          <span class="stock-up">HOT!</span>
        </div>
      </div>
    </div>

    <!-- BOTTOM SCROLLER -->
    <div class="bottom-scroller">
      <div class="bottom-content">
        <span class="bottom-item">üçù GRAFFITI PASTA - DENTON, TEXAS üçù</span>
        <span class="bottom-item">üé® STREET ART MEETS ITALIAN TRADITION üé®</span>
        <span class="bottom-item">üçù HANDMADE PASTA DAILY üçù</span>
        <span class="bottom-item">üìç FIND US IN DENTON, TX üìç</span>
        <span class="bottom-item">üç∑ EXTENSIVE WINE SELECTION üç∑</span>
        <span class="bottom-item">üéØ HAPPY HOUR 4-7PM üéØ</span>
        <span class="bottom-item">‚ö° LIVE MUSIC FRIDAYS ‚ö°</span>
        <span class="bottom-item">üöÄ AUTHENTIC ITALIAN FLAVORS üöÄ</span>
        <span class="bottom-item">üí∞ RESERVATIONS WELCOME üí∞</span>
        <span class="bottom-item">üî• GRAFFITI ART GALLERY üî•</span>
        <!-- Duplicate for seamless loop -->
        <span class="bottom-item">üçù GRAFFITI PASTA - DENTON, TEXAS üçù</span>
        <span class="bottom-item">üé® STREET ART MEETS ITALIAN TRADITION üé®</span>
        <span class="bottom-item">üçù HANDMADE PASTA DAILY üçù</span>
        <span class="bottom-item">üìç FIND US IN DENTON, TX üìç</span>
        <span class="bottom-item">üç∑ EXTENSIVE WINE SELECTION üç∑</span>
        <span class="bottom-item">üéØ HAPPY HOUR 4-7PM üéØ</span>
        <span class="bottom-item">‚ö° LIVE MUSIC FRIDAYS ‚ö°</span>
        <span class="bottom-item">üöÄ AUTHENTIC ITALIAN FLAVORS üöÄ</span>
        <span class="bottom-item">üí∞ RESERVATIONS WELCOME üí∞</span>
        <span class="bottom-item">üî• GRAFFITI ART GALLERY üî•</span>
      </div>
    </div>

  </div>

  <script>
    // Media Carousel System
    let mediaList = [];
    let currentMediaIndex = 0;
    let currentVideoElement = null;
    let currentImageElement = null;
    const MEDIA_DURATION = 15000; // 15 seconds for images, videos will play to end

    // Fetch media from graffiti-tv bucket (directly from Linode)
    async function loadMediaList() {
      try {
        console.log('Fetching media from /api/linode/media...');
        const response = await fetch('/api/linode/media');
        const data = await response.json();
        console.log('API Response:', data);

        if (data.success && data.media && data.media.length > 0) {
          mediaList = data.media;
          console.log('‚úì Loaded media items:', mediaList.length);
          console.log('Media URLs:', mediaList.map(m => m.url));
          playNextMedia();
        } else {
          // Fallback to default content
          console.log('‚ö† No media found in bucket, using YouTube fallback');
          console.log('Message:', data.message);
          loadDefaultContent();
        }
      } catch (error) {
        console.error('‚ùå Error loading media:', error);
        loadDefaultContent();
      }
    }

    // Load default content if bucket is empty
    function loadDefaultContent() {
      const container = document.getElementById('mediaContainer');
      container.innerHTML = `
        <iframe
          src="https://www.youtube.com/embed/86YLFOog4GM?autoplay=1&mute=1&controls=0&loop=1&playlist=86YLFOog4GM"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen
          style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;">
        </iframe>
      `;
    }

    // Play next media item
    function playNextMedia() {
      if (mediaList.length === 0) {
        loadDefaultContent();
        return;
      }

      const media = mediaList[currentMediaIndex];
      const container = document.getElementById('mediaContainer');

      // Clear current content
      if (currentVideoElement) {
        currentVideoElement.pause();
        currentVideoElement = null;
      }
      container.innerHTML = '';

      if (media.type === 'video') {
        // Create video element
        const video = document.createElement('video');
        video.src = media.url;
        video.autoplay = true;
        video.muted = true;
        video.loop = false;
        video.style.position = 'absolute';
        video.style.top = '50%';
        video.style.left = '50%';
        video.style.transform = 'translate(-50%, -50%)';
        video.style.width = '100%';
        video.style.height = '100%';
        video.style.objectFit = 'contain';
        video.style.maxWidth = '100%';
        video.style.maxHeight = '100%';

        // When video ends, play next media
        video.addEventListener('ended', () => {
          nextMedia();
        });

        // If video fails to load, skip to next
        video.addEventListener('error', (e) => {
          console.error('Video load error:', e);
          nextMedia();
        });

        container.appendChild(video);
        currentVideoElement = video;

      } else if (media.type === 'image') {
        // Create image element
        const img = document.createElement('img');
        img.src = media.url;
        img.style.position = 'absolute';
        img.style.top = '50%';
        img.style.left = '50%';
        img.style.transform = 'translate(-50%, -50%)';
        img.style.width = '100%';
        img.style.height = '100%';
        img.style.objectFit = 'contain';
        img.style.maxWidth = '100%';
        img.style.maxHeight = '100%';

        // If image fails to load, skip to next
        img.addEventListener('error', (e) => {
          console.error('Image load error:', e);
          nextMedia();
        });

        container.appendChild(img);
        currentImageElement = img;

        // Auto-advance after duration
        setTimeout(() => {
          nextMedia();
        }, MEDIA_DURATION);
      }
    }

    // Advance to next media
    function nextMedia() {
      currentMediaIndex = (currentMediaIndex + 1) % mediaList.length;
      playNextMedia();
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', () => {
      loadMediaList();
    });

    // Random glitch effects
    setInterval(() => {
      if (Math.random() < 0.15) {
        document.body.style.filter = `hue-rotate(${Math.random() * 360}deg) saturate(${2 + Math.random() * 2})`;
        setTimeout(() => {
          document.body.style.filter = 'none';
        }, 150);
      }
    }, 1500);

    // Random ad flashing
    setInterval(() => {
      const ads = document.querySelectorAll('.fake-ad');
      const randomAd = ads[Math.floor(Math.random() * ads.length)];
      randomAd.style.transform = 'scale(1.15) rotate(' + (Math.random() * 10 - 5) + 'deg)';
      setTimeout(() => {
        randomAd.style.transform = '';
      }, 300);
    }, 2000);

    // Crazy screen shake
    setInterval(() => {
      if (Math.random() < 0.08) {
        document.body.style.transform = `translate(${Math.random() * 10 - 5}px, ${Math.random() * 10 - 5}px)`;
        setTimeout(() => {
          document.body.style.transform = 'none';
        }, 100);
      }
    }, 3000);
  </script>
</body>
</html>