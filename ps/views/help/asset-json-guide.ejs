<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Asset JSON Field Guide - Help</title>
  <link rel="stylesheet" href="/stylesheets/style.css">
  <style>
    .help-container {
      max-width: 900px;
      margin: 2rem auto;
      padding: 2rem;
    }
    .help-section {
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 2rem;
    }
    .help-section h2 {
      margin-top: 0;
      color: #1f2937;
      border-bottom: 2px solid #3b82f6;
      padding-bottom: 0.5rem;
    }
    .help-section h3 {
      color: #374151;
      margin-top: 1.5rem;
    }
    .code-block {
      background: #1f2937;
      color: #f3f4f6;
      padding: 1rem;
      border-radius: 6px;
      overflow-x: auto;
      font-family: 'Courier New', monospace;
      font-size: 0.875rem;
      margin: 1rem 0;
    }
    .example-label {
      font-weight: 600;
      color: #6b7280;
      margin-top: 1rem;
      margin-bottom: 0.5rem;
    }
    .field-table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
    }
    .field-table th,
    .field-table td {
      text-align: left;
      padding: 0.75rem;
      border: 1px solid #e5e7eb;
    }
    .field-table th {
      background: #f9fafb;
      font-weight: 600;
    }
    .note {
      background: #dbeafe;
      border-left: 4px solid #3b82f6;
      padding: 1rem;
      margin: 1rem 0;
      border-radius: 4px;
    }
    .warning {
      background: #fef3c7;
      border-left: 4px solid #f59e0b;
      padding: 1rem;
      margin: 1rem 0;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <%- include('../partials/header', { user: user }) %>

  <div class="help-container">
    <h1>Asset JSON Field Guide</h1>
    <p>This guide explains how to format JSON data for various asset fields in the Asset Builder.</p>

    <!-- Stats Field -->
    <div class="help-section" id="stats">
      <h2>Stats (JSON Object)</h2>
      <p>Stats define numerical attributes for characters, species, items, and equipment. They are stored as key-value pairs.</p>

      <h3>Format</h3>
      <div class="code-block">{
  "statName": value,
  "anotherStat": value
}</div>

      <h3>Common Stats</h3>
      <table class="field-table">
        <thead>
          <tr>
            <th>Stat Name</th>
            <th>Description</th>
            <th>Typical Range</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>health</td><td>Hit points / HP</td><td>1-1000</td></tr>
          <tr><td>energy</td><td>Energy / Mana</td><td>1-500</td></tr>
          <tr><td>strength</td><td>Physical power</td><td>1-100</td></tr>
          <tr><td>defense</td><td>Damage resistance</td><td>1-100</td></tr>
          <tr><td>speed</td><td>Movement speed</td><td>0.1-10.0</td></tr>
          <tr><td>accuracy</td><td>Hit chance modifier</td><td>0.1-2.0</td></tr>
          <tr><td>critChance</td><td>Critical hit percentage</td><td>0-100</td></tr>
          <tr><td>damage</td><td>Base damage output</td><td>1-500</td></tr>
        </tbody>
      </table>

      <div class="example-label">Example - Character Stats:</div>
      <div class="code-block">{
  "health": 100,
  "energy": 50,
  "strength": 12,
  "defense": 8,
  "speed": 1.2
}</div>

      <div class="example-label">Example - Weapon Stats:</div>
      <div class="code-block">{
  "damage": 45,
  "accuracy": 1.5,
  "critChance": 15,
  "fireRate": 2.5,
  "range": 100
}</div>
    </div>

    <!-- Buffs Field -->
    <div class="help-section" id="buffs">
      <h2>Buffs / Effects (JSON Array)</h2>
      <p>Buffs are special effects that modify character or gameplay attributes. They can be temporary or permanent.</p>

      <h3>Format</h3>
      <div class="code-block">[
  {
    "type": "effectType",
    "value": number,
    "duration": seconds (optional)
  }
]</div>

      <h3>Buff Types</h3>
      <table class="field-table">
        <thead>
          <tr>
            <th>Type</th>
            <th>Description</th>
            <th>Example Use</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>health</td><td>Increases max health</td><td>Armor, consumables</td></tr>
          <tr><td>heal</td><td>Restores health over time</td><td>Medkits, food</td></tr>
          <tr><td>defense</td><td>Increases damage resistance</td><td>Armor, shields</td></tr>
          <tr><td>damage</td><td>Increases damage output</td><td>Weapons, power-ups</td></tr>
          <tr><td>speed</td><td>Movement speed modifier</td><td>Boots, stimulants</td></tr>
          <tr><td>regeneration</td><td>Health regen per second</td><td>Passive abilities</td></tr>
          <tr><td>night_vision</td><td>See in darkness</td><td>Species traits, goggles</td></tr>
          <tr><td>radiation_resistance</td><td>Resist radiation damage</td><td>Suits, species traits</td></tr>
          <tr><td>oxygen_capacity</td><td>Extended oxygen supply</td><td>Suits, species traits</td></tr>
        </tbody>
      </table>

      <div class="example-label">Example - Health Potion:</div>
      <div class="code-block">[
  {
    "type": "heal",
    "value": 50,
    "duration": 5
  }
]</div>

      <div class="example-label">Example - Armor with Multiple Buffs:</div>
      <div class="code-block">[
  {
    "type": "defense",
    "value": 25
  },
  {
    "type": "health",
    "value": 50
  },
  {
    "type": "speed",
    "value": -0.2
  }
]</div>

      <div class="example-label">Example - Species Racial Traits:</div>
      <div class="code-block">[
  {
    "type": "night_vision",
    "value": 1
  },
  {
    "type": "radiation_resistance",
    "value": 75
  },
  {
    "type": "speed",
    "value": 1.3
  }
]</div>

      <div class="note">
        <strong>Note:</strong> If <code>duration</code> is omitted, the buff is permanent (or lasts as long as the item is equipped). Duration is measured in seconds.
      </div>
    </div>

    <!-- Effects Field -->
    <div class="help-section" id="effects">
      <h2>Effects (Text or JSON Array)</h2>
      <p>Effects describe special abilities, passive bonuses, or active skills. Can be simple text or structured JSON.</p>

      <h3>Simple Format (Text - One per line)</h3>
      <div class="code-block">+10% Movement Speed
Regenerate 5 HP per second
Immune to poison
Grants double jump ability</div>

      <h3>Advanced Format (JSON Array)</h3>
      <div class="code-block">[
  {
    "type": "ability",
    "name": "Shield Bash",
    "description": "Stun enemies for 2 seconds",
    "cooldown": 10
  },
  {
    "type": "passive",
    "name": "Thorns",
    "description": "Reflect 10% of damage taken"
  }
]</div>

      <div class="example-label">Example - Weapon Effects:</div>
      <div class="code-block">[
  {
    "type": "damage",
    "element": "fire",
    "value": 15,
    "chance": 25
  },
  {
    "type": "knockback",
    "value": 2.5
  }
]</div>
    </div>

    <!-- Resources Field -->
    <div class="help-section" id="resources">
      <h2>Resources (Comma-Separated or JSON Array)</h2>
      <p>Resources are materials available in environments or required for crafting.</p>

      <h3>Simple Format (Comma-Separated)</h3>
      <div class="code-block">Water, Minerals, Exotic Matter, Fuel</div>

      <h3>Advanced Format (JSON Array with Quantities)</h3>
      <div class="code-block">[
  {
    "name": "Water",
    "abundance": "high",
    "quality": "pure"
  },
  {
    "name": "Iron Ore",
    "abundance": "medium",
    "quality": "standard"
  },
  {
    "name": "Exotic Matter",
    "abundance": "rare",
    "quality": "unstable"
  }
]</div>
    </div>

    <!-- Validation Tips -->
    <div class="help-section" id="validation">
      <h2>JSON Validation Tips</h2>

      <div class="warning">
        <strong>Common Mistakes:</strong>
        <ul>
          <li>Missing quotes around property names: <code>{type: "heal"}</code> ❌ → <code>{"type": "heal"}</code> ✅</li>
          <li>Single quotes instead of double: <code>{'type': 'heal'}</code> ❌ → <code>{"type": "heal"}</code> ✅</li>
          <li>Trailing commas: <code>{"type": "heal",}</code> ❌ → <code>{"type": "heal"}</code> ✅</li>
          <li>Missing brackets for arrays: <code>{"type": "heal"}</code> ❌ → <code>[{"type": "heal"}]</code> ✅</li>
        </ul>
      </div>

      <div class="note">
        <strong>Tip:</strong> Use a JSON validator like <a href="https://jsonlint.com" target="_blank">jsonlint.com</a> to check your JSON before submitting if you're unsure about the format.
      </div>
    </div>

    <div style="text-align: center; margin: 3rem 0;">
      <a href="/assets" class="btn btn-primary">Back to Asset Builder</a>
    </div>
  </div>

  <%- include('../partials/footer') %>
</body>
</html>
