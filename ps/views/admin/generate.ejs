<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %></title>
  <link rel="stylesheet" href="/stylesheets/style.css">
  <style>
    .admin-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .asset-selector {
      margin-bottom: 30px;
      padding: 20px;
      background: #f5f5f5;
      border-radius: 8px;
    }

    .asset-selector h2 {
      margin-top: 0;
      color: #333;
    }

    .asset-type-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 10px;
      margin-top: 15px;
    }

    .asset-btn {
      padding: 15px 20px;
      border: 2px solid #ddd;
      background: white;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 600;
      text-transform: uppercase;
    }

    .asset-btn:hover {
      background: #e0e0e0;
      border-color: #999;
    }

    .asset-btn.active {
      background: #4CAF50;
      color: white;
      border-color: #4CAF50;
    }

    .form-container {
      display: none;
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .form-container.active {
      display: block;
    }

    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #333;
    }

    .form-group input,
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 14px;
      box-sizing: border-box;
    }

    .form-group textarea {
      min-height: 100px;
      resize: vertical;
    }

    .form-group input[type="number"] {
      width: 100%;
    }

    .form-group input[type="checkbox"] {
      width: auto;
      margin-right: 8px;
    }

    .btn-submit {
      background: #4CAF50;
      color: white;
      padding: 15px 30px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      transition: background 0.3s ease;
    }

    .btn-submit:hover {
      background: #45a049;
    }

    .btn-submit:disabled {
      background: #ccc;
      cursor: not-allowed;
    }

    .alert {
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 4px;
      display: none;
    }

    .alert.show {
      display: block;
    }

    .alert-success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }

    .alert-error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }

    .field-description {
      font-size: 12px;
      color: #666;
      margin-top: 4px;
    }

    .section-title {
      font-size: 18px;
      font-weight: 700;
      margin: 30px 0 15px 0;
      padding-bottom: 10px;
      border-bottom: 2px solid #4CAF50;
      color: #333;
    }
  </style>
</head>
<body>
  <%- include('../partials/header', { user: user }) %>

  <main class="admin-container">
    <h1><%= title %></h1>

    <div id="alertBox" class="alert"></div>

    <div class="asset-selector">
      <h2>Select Asset Type</h2>
      <div class="asset-type-buttons">
        <button class="asset-btn" data-type="character">Character</button>
        <button class="asset-btn" data-type="zone">Zone</button>
        <button class="asset-btn" data-type="item">Item</button>
        <button class="asset-btn" data-type="species">Species</button>
        <button class="asset-btn" data-type="quest">Quest</button>
        <button class="asset-btn" data-type="npc">NPC</button>
      </div>
    </div>

    <!-- Character Form -->
    <div id="form-character" class="form-container">
      <h2 class="section-title">Create Character</h2>
      <form id="characterForm">
        <div class="form-grid">
          <div class="form-group">
            <label for="char_name">Character Name *</label>
            <input type="text" id="char_name" name="name" required>
            <p class="field-description">The character's full name</p>
          </div>

          <div class="form-group">
            <label for="char_species">Species *</label>
            <select id="char_species" name="species" required>
              <option value="">Select Species</option>
              <option value="Silicates">Silicates</option>
              <option value="Lanterns">Lanterns</option>
              <option value="Devan">Devan</option>
              <option value="Humans">Humans</option>
            </select>
          </div>

          <div class="form-group">
            <label for="char_stringDomain">String Domain *</label>
            <select id="char_stringDomain" name="stringDomain" required>
              <option value="">Select Domain</option>
              <option value="Time String">Time String</option>
              <option value="Tech String">Tech String</option>
              <option value="Faith String">Faith String</option>
              <option value="War String">War String</option>
            </select>
          </div>

          <div class="form-group">
            <label for="char_class">Primary Class *</label>
            <input type="text" id="char_class" name="primaryClass" required>
          </div>

          <div class="form-group">
            <label for="char_level">Level</label>
            <input type="number" id="char_level" name="level" min="1" max="100" value="1">
          </div>

          <div class="form-group">
            <label for="char_health">Health</label>
            <input type="number" id="char_health" name="health" min="1" value="100">
          </div>
        </div>

        <div class="form-group">
          <label for="char_description">Description</label>
          <textarea id="char_description" name="description"></textarea>
          <p class="field-description">Detailed character backstory and description</p>
        </div>

        <button type="submit" class="btn-submit">Create Character</button>
      </form>
    </div>

    <!-- Zone Form -->
    <div id="form-zone" class="form-container">
      <h2 class="section-title">Create Zone</h2>
      <form id="zoneForm">
        <div class="form-grid">
          <div class="form-group">
            <label for="zone_name">Zone Name *</label>
            <input type="text" id="zone_name" name="name" required>
          </div>

          <div class="form-group">
            <label for="zone_type">Zone Type *</label>
            <select id="zone_type" name="type" required>
              <option value="">Select Type</option>
              <option value="city">City</option>
              <option value="wilderness">Wilderness</option>
              <option value="dungeon">Dungeon</option>
              <option value="instance">Instance</option>
              <option value="pvp">PVP Arena</option>
            </select>
          </div>

          <div class="form-group">
            <label for="zone_level">Recommended Level</label>
            <input type="number" id="zone_level" name="recommendedLevel" min="1" max="100" value="1">
          </div>

          <div class="form-group">
            <label for="zone_size">Zone Size</label>
            <select id="zone_size" name="size">
              <option value="small">Small</option>
              <option value="medium">Medium</option>
              <option value="large">Large</option>
              <option value="massive">Massive</option>
            </select>
          </div>

          <div class="form-group">
            <label for="zone_climate">Climate</label>
            <input type="text" id="zone_climate" name="climate" placeholder="e.g., Temperate, Arid, Frozen">
          </div>

          <div class="form-group">
            <label for="zone_danger">Danger Level</label>
            <select id="zone_danger" name="dangerLevel">
              <option value="safe">Safe</option>
              <option value="low">Low</option>
              <option value="medium">Medium</option>
              <option value="high">High</option>
              <option value="extreme">Extreme</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <label for="zone_description">Description</label>
          <textarea id="zone_description" name="description"></textarea>
        </div>

        <button type="submit" class="btn-submit">Create Zone</button>
      </form>
    </div>

    <!-- Item Form -->
    <div id="form-item" class="form-container">
      <h2 class="section-title">Create Item</h2>
      <form id="itemForm">
        <div class="form-grid">
          <div class="form-group">
            <label for="item_name">Item Name *</label>
            <input type="text" id="item_name" name="name" required>
          </div>

          <div class="form-group">
            <label for="item_type">Item Type *</label>
            <select id="item_type" name="type" required>
              <option value="">Select Type</option>
              <option value="weapon">Weapon</option>
              <option value="armor">Armor</option>
              <option value="consumable">Consumable</option>
              <option value="quest">Quest Item</option>
              <option value="material">Material</option>
              <option value="misc">Miscellaneous</option>
            </select>
          </div>

          <div class="form-group">
            <label for="item_rarity">Rarity *</label>
            <select id="item_rarity" name="rarity" required>
              <option value="common">Common</option>
              <option value="uncommon">Uncommon</option>
              <option value="rare">Rare</option>
              <option value="epic">Epic</option>
              <option value="legendary">Legendary</option>
            </select>
          </div>

          <div class="form-group">
            <label for="item_level">Item Level</label>
            <input type="number" id="item_level" name="itemLevel" min="1" max="100" value="1">
          </div>

          <div class="form-group">
            <label for="item_value">Value (Gold)</label>
            <input type="number" id="item_value" name="value" min="0" value="0">
          </div>

          <div class="form-group">
            <label for="item_stackable">
              <input type="checkbox" id="item_stackable" name="stackable">
              Stackable
            </label>
          </div>

          <div class="form-group">
            <label for="item_stackSize">Max Stack Size</label>
            <input type="number" id="item_stackSize" name="maxStackSize" min="1" value="1">
          </div>

          <div class="form-group">
            <label for="item_weight">Weight</label>
            <input type="number" id="item_weight" name="weight" min="0" step="0.1" value="0">
          </div>
        </div>

        <div class="form-group">
          <label for="item_description">Description</label>
          <textarea id="item_description" name="description"></textarea>
        </div>

        <button type="submit" class="btn-submit">Create Item</button>
      </form>
    </div>

    <!-- Species Form -->
    <div id="form-species" class="form-container">
      <h2 class="section-title">Create Species</h2>
      <form id="speciesForm">
        <div class="form-grid">
          <div class="form-group">
            <label for="species_name">Species Name *</label>
            <input type="text" id="species_name" name="name" required>
          </div>

          <div class="form-group">
            <label for="species_origin">Origin Planet/Region</label>
            <input type="text" id="species_origin" name="origin">
          </div>

          <div class="form-group">
            <label for="species_lifespan">Average Lifespan (years)</label>
            <input type="number" id="species_lifespan" name="lifespan" min="1">
          </div>

          <div class="form-group">
            <label for="species_height">Average Height (cm)</label>
            <input type="number" id="species_height" name="averageHeight" min="1">
          </div>

          <div class="form-group">
            <label for="species_sentient">
              <input type="checkbox" id="species_sentient" name="sentient" checked>
              Sentient
            </label>
          </div>

          <div class="form-group">
            <label for="species_playable">
              <input type="checkbox" id="species_playable" name="playable">
              Playable Race
            </label>
          </div>
        </div>

        <div class="form-group">
          <label for="species_description">Description</label>
          <textarea id="species_description" name="description"></textarea>
        </div>

        <div class="form-group">
          <label for="species_traits">Racial Traits</label>
          <textarea id="species_traits" name="racialTraits" placeholder="List special abilities and traits..."></textarea>
        </div>

        <button type="submit" class="btn-submit">Create Species</button>
      </form>
    </div>

    <!-- Quest Form -->
    <div id="form-quest" class="form-container">
      <h2 class="section-title">Create Quest</h2>
      <form id="questForm">
        <div class="form-grid">
          <div class="form-group">
            <label for="quest_name">Quest Name *</label>
            <input type="text" id="quest_name" name="name" required>
          </div>

          <div class="form-group">
            <label for="quest_type">Quest Type *</label>
            <select id="quest_type" name="type" required>
              <option value="">Select Type</option>
              <option value="main">Main Story</option>
              <option value="side">Side Quest</option>
              <option value="daily">Daily Quest</option>
              <option value="weekly">Weekly Quest</option>
              <option value="event">Event Quest</option>
            </select>
          </div>

          <div class="form-group">
            <label for="quest_level">Required Level</label>
            <input type="number" id="quest_level" name="requiredLevel" min="1" max="100" value="1">
          </div>

          <div class="form-group">
            <label for="quest_reward_xp">Reward XP</label>
            <input type="number" id="quest_reward_xp" name="rewardXP" min="0" value="0">
          </div>

          <div class="form-group">
            <label for="quest_reward_gold">Reward Gold</label>
            <input type="number" id="quest_reward_gold" name="rewardGold" min="0" value="0">
          </div>

          <div class="form-group">
            <label for="quest_repeatable">
              <input type="checkbox" id="quest_repeatable" name="repeatable">
              Repeatable
            </label>
          </div>
        </div>

        <div class="form-group">
          <label for="quest_description">Quest Description</label>
          <textarea id="quest_description" name="description"></textarea>
        </div>

        <div class="form-group">
          <label for="quest_objectives">Objectives (one per line)</label>
          <textarea id="quest_objectives" name="objectives" placeholder="e.g.,&#10;Defeat 10 enemies&#10;Collect 5 items&#10;Talk to NPC"></textarea>
        </div>

        <button type="submit" class="btn-submit">Create Quest</button>
      </form>
    </div>

    <!-- NPC Form -->
    <div id="form-npc" class="form-container">
      <h2 class="section-title">Create NPC</h2>
      <form id="npcForm">
        <div class="form-grid">
          <div class="form-group">
            <label for="npc_name">NPC Name *</label>
            <input type="text" id="npc_name" name="name" required>
          </div>

          <div class="form-group">
            <label for="npc_role">Role *</label>
            <select id="npc_role" name="role" required>
              <option value="">Select Role</option>
              <option value="merchant">Merchant</option>
              <option value="quest_giver">Quest Giver</option>
              <option value="trainer">Trainer</option>
              <option value="guard">Guard</option>
              <option value="civilian">Civilian</option>
              <option value="enemy">Enemy</option>
            </select>
          </div>

          <div class="form-group">
            <label for="npc_species">Species</label>
            <select id="npc_species" name="species">
              <option value="Silicates">Silicates</option>
              <option value="Lanterns">Lanterns</option>
              <option value="Devan">Devan</option>
              <option value="Humans">Humans</option>
            </select>
          </div>

          <div class="form-group">
            <label for="npc_level">Level</label>
            <input type="number" id="npc_level" name="level" min="1" max="100" value="1">
          </div>

          <div class="form-group">
            <label for="npc_hostile">
              <input type="checkbox" id="npc_hostile" name="hostile">
              Hostile
            </label>
          </div>

          <div class="form-group">
            <label for="npc_immortal">
              <input type="checkbox" id="npc_immortal" name="immortal">
              Immortal
            </label>
          </div>
        </div>

        <div class="form-group">
          <label for="npc_description">Description</label>
          <textarea id="npc_description" name="description"></textarea>
        </div>

        <div class="form-group">
          <label for="npc_dialogue">Default Dialogue</label>
          <textarea id="npc_dialogue" name="dialogue" placeholder="What the NPC says when approached..."></textarea>
        </div>

        <button type="submit" class="btn-submit">Create NPC</button>
      </form>
    </div>
  </main>

  <%- include('../partials/footer') %>
  <script src="/javascripts/admin-generate.js"></script>
</body>
</html>
