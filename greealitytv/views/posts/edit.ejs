<%- include('../partials/head', { title: 'Edit Article' }) %>
<%- include('../partials/nav') %>
<main class="page-main form-page">
  <%- include('../partials/flash') %>
  <div class="form-header"><h1>Edit Article</h1></div>
  <form class="content-form" action="/posts/<%= post._id %>?_method=PUT" method="POST" enctype="multipart/form-data">
    <div class="form-group">
      <label>Title</label>
      <input type="text" name="title" value="<%= post.title %>" required>
    </div>
    <div class="form-group">
      <label>New Cover Image <span class="hint">(leave blank to keep current)</span></label>
      <input type="file" name="coverImage" accept="image/*">
    </div>
    <div class="form-group">
      <label>Tags <span class="hint">(comma-separated)</span></label>
      <input type="text" name="tags" value="<%= post.tags ? post.tags.join(', ') : '' %>">
    </div>
    <div class="form-group">
      <label>Content</label>
      <textarea name="body" rows="16" required><%= post.body %></textarea>
    </div>
    <div class="form-actions">
      <a href="/posts/<%= post._id %>" class="btn btn-outline">Cancel</a>
      <button type="submit" class="btn btn-primary">Save Changes</button>
    </div>
  </form>
</main>
<%- include('../partials/footer') %>
